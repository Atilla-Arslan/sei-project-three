(this.webpackJsonppubhub=this.webpackJsonppubhub||[]).push([[0],{111:function(e,t,c){"use strict";c.r(t);var s=c(1),a=c(30),n=c.n(a),i=(c(66),c(5)),r=c(10),l=c(16),o=c(9),d=c(3),j=c.n(d),u=c(7),b=c(6),h=c(11),m=c(12),O=function(){return window.localStorage.getItem("token")},x=function(){var e=O();if(!e)return!1;var t=e.split(".");return!(t.length<3)&&JSON.parse(atob(t[1]))},p=function(e){var t=x();return!!t&&e===t.sub},f=function(){var e=x();return!!e&&Math.round(Date.now()/1e3)<e.exp},v=(c(72),c(0)),g=document.getElementById("modal-root");function N(e,t){var c=e.children,n=e.fade,i=void 0!==n&&n,r=e.defaultOpened,l=void 0!==r&&r,o=Object(s.useState)(l),d=Object(b.a)(o,2),j=d[0],u=d[1],h=Object(s.useCallback)((function(){return u(!1)}),[]);Object(s.useImperativeHandle)(t,(function(){return{open:function(){return u(!0)},close:h}}),[h]);var m=Object(s.useCallback)((function(e){27===e.keyCode&&h()}),[h]);return Object(s.useEffect)((function(){return j&&document.addEventListener("keydown",m,!1),function(){document.removeEventListener("keydown",m,!1)}}),[m,j]),Object(a.createPortal)(j?Object(v.jsxs)("div",{className:"modal ".concat(i?"modal-fade":""),children:[Object(v.jsx)("div",{className:"modal-overlay",onClick:h}),Object(v.jsx)("span",{role:"button",className:"modal-close","aria-label":"close",onClick:h}),Object(v.jsx)("div",{className:"modal-body",children:c})]}):null,g)}var w=Object(s.forwardRef)(N),y=c(8),k=c.n(y),C=(c(27),function(){var e=Object(s.useState)({email:"",password:""}),t=Object(b.a)(e,2),c=t[0],a=t[1],n=Object(r.f)(),i=function(e){var t=Object(o.a)(Object(o.a)({},c),{},Object(l.a)({},e.target.name,e.target.value));a(t)},d=function(){var e=Object(u.a)(j.a.mark((function e(t){var s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,k.a.post("/api/login",c);case 3:s=e.sent,window.localStorage.setItem("token",s.data.token),n.push("/");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)(v.Fragment,{children:[!f()&&Object(v.jsxs)("form",{className:"login-box animate__animated animate__fadeInUp",onSubmit:d,children:[Object(v.jsx)("h2",{children:"Login here"}),Object(v.jsx)("hr",{}),Object(v.jsx)("div",{className:"login-input-box",children:Object(v.jsx)("input",{className:"login-input",placeholder:"Email",name:"email",onChange:i,value:c.email})}),Object(v.jsx)("div",{className:"login-input-box-pass",children:Object(v.jsx)("input",{onChange:i,className:"login-input",type:"password",placeholder:"Password",name:"password",value:c.password})}),Object(v.jsxs)("div",{className:"field",children:[Object(v.jsx)("hr",{}),Object(v.jsx)("button",{type:"submit",className:"button login-button is-fullwidth ",children:"Log Me In!"})]})]}),f()&&Object(v.jsx)("div",{className:"login-h1",children:Object(v.jsx)("h1",{children:"You have logged in click to close"})})]})}),S=function(){var e=Object(s.useState)({username:"",email:"",password:"",passwordConfirmation:""}),t=Object(b.a)(e,2),c=t[0],a=t[1],n=Object(s.useState)({username:"",email:"",password:"",passwordConfirmation:""}),i=Object(b.a)(n,2),d=i[0],h=i[1],m=function(e){var t=Object(o.a)(Object(o.a)({},c),{},Object(l.a)({},e.target.name,e.target.value));a(t)},O=Object(r.f)(),x=function(){var e=Object(u.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,k.a.post("/api/register",c);case 4:e.sent,O.push("/login"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0.response),h(e.t0.response.data.errors);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("form",{className:"login-box animate__animated animate__fadeInUp",onSubmit:x,children:[Object(v.jsx)("h2",{children:"Register Here"}),Object(v.jsx)("hr",{}),Object(v.jsxs)("div",{className:"login-input-box",children:[Object(v.jsx)("input",{className:"login-input ".concat(d.username?"is-danger":""),placeholder:"Username",name:"username",value:c.username,onChange:m}),d.username&&Object(v.jsx)("p",{className:"help is-danger",children:"username error"})]}),Object(v.jsxs)("div",{className:"sign-up-input-box-middle",children:[Object(v.jsx)("input",{className:"login-input ".concat(d.email?"is-danger":""),placeholder:"Email",name:"email",value:c.email,onChange:m}),d.email&&Object(v.jsx)("p",{className:"help is-danger",children:"email error"})]}),Object(v.jsxs)("div",{className:"sign-up-input-box-middle",children:[Object(v.jsx)("input",{className:"login-input ".concat(d.password?"is-danger":""),type:"password",placeholder:"Password",name:"password",value:c.password,onChange:m}),d.password&&Object(v.jsx)("p",{className:"help is-danger",children:"password error"})]}),Object(v.jsxs)("div",{className:"login-input-box-pass",children:[Object(v.jsx)("input",{className:"login-input ".concat(d.passwordConfirmation?"is-danger":""),type:"password",placeholder:"Password Confirmation",name:"passwordConfirmation",value:c.passwordConfirmation,onChange:m}),d.passwordConfirmation&&Object(v.jsx)("p",{className:"help is-danger",children:"password confirmation error"})]}),Object(v.jsxs)("div",{className:"field",children:[Object(v.jsx)("hr",{}),Object(v.jsx)("button",{type:"submit",className:"button login-button is-fullwidth ",children:"Register Me!"})]})]})})},P=function(){var e=Object(r.f)(),t=x().sub,c=Object(r.g)();Object(s.useEffect)((function(){}),[c.pathname]);var a=Object(s.useRef)(null),n=Object(s.useRef)(null);return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"dropdown is-right",onClick:function(e){e.currentTarget.classList.toggle("is-active")},children:[Object(v.jsx)("div",{className:"dropdown-trigger",children:Object(v.jsxs)("button",{className:"hamburger-button-hoc button","aria-haspopup":"true","aria-controls":"dropdown-menu4",children:[Object(v.jsx)(h.a,{icon:m.a,className:"fa-1x"}),Object(v.jsx)("span",{className:"logo-space",children:Object(v.jsx)(h.a,{icon:m.l,className:"fa-2x"})})]})}),Object(v.jsx)("div",{className:"dropdown-menu",id:"dropdown-menu1",role:"menu",children:Object(v.jsxs)("div",{className:"dropdown-content dropdown-shape",children:[!f()&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(i.b,{className:"dropdown-item",children:Object(v.jsx)("div",{onClick:function(){return a.current.open()},children:"Login"})}),Object(v.jsx)(i.b,{className:"dropdown-item",children:Object(v.jsx)("div",{onClick:function(){return n.current.open()},children:"Register"})})]}),f()&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(i.b,{to:"/profile/".concat(t),className:"dropdown-item",children:"Profile"}),Object(v.jsx)(i.b,{to:"/landlord-profile/".concat(t),className:"dropdown-item",children:"Landlord Profile"}),Object(v.jsx)("hr",{className:"dropdown-divider"}),Object(v.jsx)(i.b,{to:"/profile/".concat(t,"/saved-pubs"),className:"dropdown-item",children:"Saved Pubs"}),Object(v.jsx)("hr",{className:"dropdown-divider"}),Object(v.jsx)("div",{className:"dropdown-item",onClick:function(){window.localStorage.removeItem("token"),e.push("/")},children:Object(v.jsx)("a",{children:"Logout"})})]})]})})]}),Object(v.jsx)(w,{ref:a,children:Object(v.jsx)(C,{})}),Object(v.jsx)(w,{ref:n,children:Object(v.jsx)(S,{})})]})},L=function(){var e=Object(s.useState)({searchPubs:"",searchCity:""}),t=Object(b.a)(e,2),c=t[0],a=t[1],n=Object(r.f)(),d=Object(s.useState)(null),O=Object(b.a)(d,2),x=O[0],p=O[1];Object(s.useEffect)(Object(u.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(function(){var e=Object(u.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("/api/pubs");case 2:t=e.sent,p(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()();case 2:case"end":return e.stop()}}),e)}))),[]);var f=function(e){var t=Object(o.a)(Object(o.a)({},c),{},Object(l.a)({},e.target.name,e.target.value));a(t)},g=function(e){n.push("/pubs/filter-pubs/".concat(e))};if(!x)return null;var N=x.map((function(e){return e.nameOfPub.toLowerCase()})),w=x.map((function(e){return e._id}));return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("section",{className:"hero is-large header-style",children:[Object(v.jsx)("header",{children:Object(v.jsxs)("div",{className:"columns",children:[Object(v.jsx)("div",{className:"column is-two-thirds",children:Object(v.jsxs)(i.b,{to:"/",children:[Object(v.jsxs)("div",{className:"logo",children:[Object(v.jsx)(h.a,{icon:m.b}),Object(v.jsx)("span",{className:"logo-space",children:"Pubhub"})]})," "]})}),Object(v.jsx)("div",{className:"column",children:Object(v.jsx)(i.b,{to:"/landlord",children:Object(v.jsx)("p",{className:"header-links",children:"Become a Landlord"})})}),Object(v.jsx)("div",{className:"column left",children:Object(v.jsx)(P,{})})]})}),Object(v.jsx)("div",{className:"hero-body header-bg",children:Object(v.jsx)("div",{className:"search-bar",children:Object(v.jsxs)("form",{className:"search-container",onSubmit:function(e){e.preventDefault();var t=c.searchPubs,s=c.searchCity;if(""===s&&""===t)return null;if(""!==s&&""!==t&&window.alert("please enter a search in one field only"),""===t&&g(s),""===s){var a=t.toLowerCase(),i=N.indexOf(a),r=w[i];if(r)return function(e){n.push("/pubs/".concat(e))}(r);g(r)}},children:[Object(v.jsxs)("div",{className:"location",children:[Object(v.jsx)("label",{className:"location-label",children:"Location"}),Object(v.jsx)("input",{placeholder:"Where are you drinking?",className:"search-input",name:"searchCity",onChange:f})]}),Object(v.jsx)("div",{className:"search-divider"}),Object(v.jsxs)("div",{className:"location",children:[Object(v.jsx)("label",{className:"location-label",children:"Search Pubs"}),Object(v.jsx)("input",{placeholder:"Got a specific pub in mind?",className:"search-input",name:"searchPubs",onChange:f})]}),Object(v.jsx)("button",{className:"search-button button",children:Object(v.jsx)("div",{className:"search-icon",children:Object(v.jsx)(h.a,{icon:m.h})})})]})})}),Object(v.jsx)("div",{className:"cta-container",children:Object(v.jsx)("div",{className:"header-cta",children:"Made possible by Landlords "})})]})})},D=function(){return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("section",{className:"header-style-hoc",children:Object(v.jsx)("header",{children:Object(v.jsxs)("div",{className:"columns",children:[Object(v.jsx)("div",{className:"column is-two-thirds",children:Object(v.jsx)(i.b,{to:"/",children:Object(v.jsxs)("div",{className:"logo-brand",children:[Object(v.jsx)(h.a,{icon:m.b}),Object(v.jsx)("span",{className:"logo-space",children:"Pubhub"})]})})}),Object(v.jsx)("div",{className:"column",children:Object(v.jsx)("p",{className:"header-links-hoc",children:"Become a Landlord"})}),Object(v.jsx)("div",{className:"column left",children:Object(v.jsx)(P,{})})]})})})})},I=function(){return Object(s.useEffect)((function(){var e=document.querySelector(".myHeader"),t=e.offsetTop,c=window.addEventListener("scroll",(function(){window.pageYOffset>t?(e.classList.add("sticky"),e.classList.remove("hide")):e.classList.add("hide")}));return function(){window.removeEventListener("scroll",c)}}),[]),Object(v.jsxs)("div",{className:"home-container",children:[Object(v.jsx)("div",{className:"myHeader hide",children:Object(v.jsx)(D,{})}),Object(v.jsx)(L,{}),Object(v.jsxs)("main",{children:[Object(v.jsxs)("div",{className:"content-container",children:[Object(v.jsx)("div",{className:"pubs-heading",children:Object(v.jsx)("h1",{children:"Top Locations"})}),Object(v.jsxs)("div",{className:"columns",children:[Object(v.jsx)("div",{className:"column",children:Object(v.jsxs)(i.b,{to:"/pubs/filter-pubs/london",children:[Object(v.jsx)("img",{src:"https://images.pexels.com/photos/1578332/pexels-photo-1578332.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940"}),Object(v.jsx)("p",{children:"London"})]})}),Object(v.jsx)("div",{className:"column",children:Object(v.jsxs)(i.b,{to:"/pubs/filter-pubs/manchester",children:[Object(v.jsx)("img",{src:"https://www.prolificnorth.co.uk/sites/default/files/styles/lightbox_large/public/images/news/manchester-cityscape0.jpg?itok=VjQDdTYJ"}),Object(v.jsx)("p",{children:"Manchester"})]})}),Object(v.jsx)("div",{className:"column",children:Object(v.jsxs)(i.b,{to:"/pubs/filter-pubs/cardiff",children:[Object(v.jsx)("img",{src:"https://d4drivers.uk/wp-content/uploads/2020/03/Cardiff.jpg"}),Object(v.jsx)("p",{children:"Cardiff"})]})})]})]}),Object(v.jsx)("section",{children:Object(v.jsx)("div",{className:"share-box",children:Object(v.jsxs)("div",{className:"columns",children:[Object(v.jsx)("div",{className:"column",children:Object(v.jsxs)("div",{className:"share-text",children:[Object(v.jsx)("h1",{children:"Your world is worth sharing"}),Object(v.jsx)("br",{}),Object(v.jsx)("p",{children:"Turn your pub into your next opportunity"}),Object(v.jsx)(i.b,{to:"/landlord",children:Object(v.jsx)("button",{className:"button",children:"Become a Landlord"})})]})}),Object(v.jsx)("div",{className:"column"})]})})})]})]})},F=function(){return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("section",{className:"header-style-hoc",children:Object(v.jsx)("header",{children:Object(v.jsxs)("div",{className:"columns",children:[Object(v.jsx)("div",{className:"column is-two-thirds",children:Object(v.jsx)(i.b,{to:"/",children:Object(v.jsxs)("div",{className:"logo-brand",children:[Object(v.jsx)(h.a,{icon:m.b}),Object(v.jsx)("span",{className:"logo-space",children:"Pubhub"})]})})}),Object(v.jsx)("div",{className:"column",children:Object(v.jsx)(i.b,{to:"/landlord",children:Object(v.jsx)("p",{className:"header-links",children:"Become a Landlord"})})}),Object(v.jsx)("div",{className:"column left",children:Object(v.jsx)(P,{})})]})})})})},T=function(e){var t=e._id,c=e.nameOfPub,s=e.image,a=e.description,n=e.averageRatings;return Object(v.jsxs)("div",{className:"column",children:[Object(v.jsxs)("div",{className:"columns",children:[Object(v.jsx)("div",{className:"column",children:Object(v.jsx)(i.b,{to:"/pubs/".concat(t),children:Object(v.jsx)("img",{className:"pubcard-image",src:s,alt:c})})}),Object(v.jsxs)("div",{className:"column",children:[Object(v.jsx)("h4",{children:c}),Object(v.jsx)("hr",{className:"card-hr"}),Object(v.jsxs)("p",{children:[a.substring(0,100),"..."]}),Object(v.jsxs)("div",{className:"card-rating",children:[Object(v.jsx)("div",{className:"rating-star",children:Object(v.jsx)(h.a,{icon:m.i})}),Object(v.jsx)("p",{children:n.averageOverall})]})]})]}),Object(v.jsx)("hr",{})]})},A=c(34),E=[{name:"Faltering Fullback",id:"6061c3d8e0ff81d2831559e7",longitude:-.108574,latitude:51.568656,icon:"\ud83d\udccd"},{name:"The Bluecoats",id:"6061c3d8e0ff81d2831559eb",longitude:-.068079,latitude:51.596976,icon:"\ud83d\udccd"},{name:"Palm Tree",id:"6061c3d8e0ff81d2831559ea",longitude:-.039248,latitude:51.528811,icon:"\ud83d\udccd"},{name:"Bradley/s Spanish Bar",id:"6061c3d8e0ff81d2831559e8",longitude:-.132726,latitude:51.516533,icon:"\ud83d\udccd"},{name:"Priory Arms",id:"6061c3d8e0ff81d2831559ec",longitude:-.129314,latitude:51.474988,icon:"\ud83d\udccd"},{name:"Chesham Arms",id:"6061c3d8e0ff81d2831559df",longitude:-.050484,latitude:51.547586,icon:"\ud83d\udccd"},{name:"The Axe",id:"6061c3d8e0ff81d2831559e9",longitude:-.072297,latitude:51.562885,icon:"\ud83d\udccd"},{name:"Dove",id:"6061c3d8e0ff81d2831559ed",longitude:-.06161,latitude:51.536584,icon:"\ud83d\udccd"},{name:"The High Cross",id:"6061c3d8e0ff81d2831559ef",longitude:-.069706,latitude:51.589335,icon:"\ud83d\udccd"},{name:"Marksman",id:"6061c3d8e0ff81d2831559f2",longitude:-.068613,latitude:51.530964,icon:"\ud83d\udccd"},{name:"The Briton's Protection",id:"6061c3d8e0ff81d2831559f4",longitude:-2.24685,latitude:53.474872,icon:"\ud83d\udccd"},{name:"The Temple",id:"6061c3d8e0ff81d2831559fc",longitude:-2.243763,latitude:53.474934,icon:"\ud83d\udccd"},{name:"The Wharf",id:"6061c3d8e0ff81d2831559f5",longitude:-2.256758,latitude:53.473658,icon:"\ud83d\udccd"},{name:"Jerusalem Tavern",id:"6061c3d8e0ff81d2831559ee",longitude:-.10396,latitude:51.521665,icon:"\ud83d\udccd"},{name:"Pembury Tavern",id:"6061c3d8e0ff81d2831559f1",longitude:-.058148,latitude:51.548819,icon:"\ud83d\udccd"},{name:"Port Street Beer House",id:"6061c3d8e0ff81d2831559fa",longitude:-2.231899,latitude:53.481834,icon:"\ud83d\udccd"},{name:"Spread Eagle",id:"6061c3d8e0ff81d2831559f0",longitude:-.040577,latitude:51.548896,icon:"\ud83d\udccd"},{name:"Sinclairs Oyster Bar",id:"6061c3d8e0ff81d2831559f6",longitude:-2.244075,latitude:53.484677,icon:"\ud83d\udccd"},{name:"BrewDog Manchester Outpost",id:"6061c3d8e0ff81d2831559f3",longitude:-2.235781,latitude:53.467668,icon:"\ud83d\udccd"},{name:"The Beagle",id:"6061c3d8e0ff81d2831559f8",longitude:-2.277668,latitude:53.443454,icon:"\ud83d\udccd"},{name:"Tib Street Tavern",id:"6061c3d8e0ff81d2831559f7",longitude:-2.234621,latitude:53.483725,icon:"\ud83d\udccd"},{name:"Grey Horse Inn",id:"6061c3d8e0ff81d2831559ff",longitude:-2.239938,latitude:53.47789,icon:"\ud83d\udccd"},{name:"The Knott",id:"6061c3d8e0ff81d283155a02",longitude:-2.251794,latitude:53.474972,icon:"\ud83d\udccd"},{name:"The Molly House",id:"6061c3d8e0ff81d283155a01",longitude:-2.237193,latitude:53.477321,icon:"\ud83d\udccd"},{name:"The Edinburgh Castle Pub",id:"6061c3d8e0ff81d2831559fb",longitude:-2.229831,latitude:53.483977,icon:"\ud83d\udccd"},{name:"Castle Hotel",id:"6061c3d8e0ff81d2831559f9",longitude:-2.234089,latitude:53.483356,icon:"\ud83d\udccd"},{name:"The King's Arms",id:"6061c3d8e0ff81d2831559fd",longitude:-2.255962,latitude:53.484122,icon:"\ud83d\udccd"},{name:"The Marble Arch",id:"6061c3d8e0ff81d2831559fe",longitude:-2.231904,latitude:53.488414,icon:"\ud83d\udccd"},{name:"The Library",id:"6061c3d8e0ff81d283155a07",longitude:-1.556828,latitude:53.810738,icon:"\ud83d\udccd"},{name:"Town Hall Tavern",id:"6061c3d8e0ff81d283155a0b",longitude:-1.552373,latitude:53.799362,icon:"\ud83d\udccd"},{name:"A Nation of Shopkeepers",id:"6061c3d8e0ff81d283155a10",longitude:-1.547537,latitude:53.800493,icon:"\ud83d\udccd"},{name:"Water Lane BoatHouse",id:"6061c3d8e0ff81d283155a05",longitude:-1.550565,latitude:53.79239,icon:"\ud83d\udccd"},{name:"The Adelphi",id:"6061c3d8e0ff81d283155a03",longitude:-1.540877,latitude:53.793124,icon:"\ud83d\udccd"},{name:"The Angel Pub",id:"6061c3d8e0ff81d283155a00",longitude:-2.235167,latitude:53.487443,icon:"\ud83d\udccd"},{name:"Stew & Oyster Calls Landing",id:"6061c3d8e0ff81d283155a0c",longitude:-1.539077,latitude:53.794854,icon:"\ud83d\udccd"},{name:"Pack Horse Leeds",id:"6061c3d8e0ff81d283155a09",longitude:-1.542782,latitude:53.797547,icon:"\ud83d\udccd"},{name:"Lamb and Flag",id:"6061c3d8e0ff81d283155a0a",longitude:-1.536894,latitude:53.794951,icon:"\ud83d\udccd"},{name:"Kirkstall Brewery",id:"6061c3d8e0ff81d283155a08",longitude:-1.567614,latitude:53.801474,icon:"\ud83d\udccd"},{name:"Tapped Leeds",id:"6061c3d8e0ff81d283155a0f",longitude:-1.545522,latitude:53.795928,icon:"\ud83d\udccd"},{name:"The Scarbrough Hotel",id:"6061c3d8e0ff81d283155a04",longitude:-1.546298,latitude:53.795349,icon:"\ud83d\udccd"},{name:"Lady Mildmay",id:"6061c3d8e0ff81d283155a11",longitude:-.084392,latitude:51.549997,icon:"\ud83d\udccd"},{name:"Editor's Draught",id:"6061c3d8e0ff81d283155a06",longitude:-1.556092,latitude:53.797001,icon:"\ud83d\udccd"},{name:"Midnight Bell",id:"6061c3d8e0ff81d283155a0e",longitude:-1.551362,latitude:53.791692,icon:"\ud83d\udccd"},{name:"The Cross Keys",id:"6061c3d8e0ff81d283155a0d",longitude:-1.552698,latitude:53.791679,icon:"\ud83d\udccd"},{name:"Duke Of Hamiliton",id:"6061c3d8e0ff81d283155a12",longitude:-.177709,latitude:51.558869,icon:"\ud83d\udccd"},{name:"Be At One Cardiff",id:"6061c3d8e0ff81d283155a13",longitude:-3.176628,latitude:51.477318,icon:"\ud83d\udccd"},{name:"The Coconut Tree",id:"6061c3d8e0ff81d283155a17",longitude:-3.176093,latitude:51.477441,icon:"\ud83d\udccd"},{name:"The Dead Canary",id:"6061c3d8e0ff81d283155a15",longitude:-3.173807,latitude:51.480161,icon:"\ud83d\udccd"},{name:"St Canna's Ale House",id:"6061c3d8e0ff81d283155a1a",longitude:-3.202408,latitude:51.482425,icon:"\ud83d\udccd"},{name:"The Potted Pig",id:"6061c3d8e0ff81d283155a18",longitude:-3.180621,latitude:51.480839,icon:"\ud83d\udccd"},{name:"The Four Elms",id:"6061c3d8e0ff81d283155a19",longitude:-3.161579,latitude:51.488025,icon:"\ud83d\udccd"},{name:"Pennyroyal",id:"6061c3d8e0ff81d283155a16",longitude:-3.180273,latitude:51.480412,icon:"\ud83d\udccd"},{name:"The Grange",id:"6061c3d8e0ff81d283155a1d",longitude:-3.187594,latitude:51.469529,icon:"\ud83d\udccd"},{name:"The Alchemist Cardiff",id:"6061c3d8e0ff81d283155a14",longitude:-3.179616,latitude:51.479842,icon:"\ud83d\udccd"},{name:"The City Arms",id:"6061c3d8e0ff81d283155a1b",longitude:-3.180674,latitude:51.480101,icon:"\ud83d\udccd"},{name:"The Cambrian Tap",id:"6061c3d8e0ff81d283155a1c",longitude:-3.177467,latitude:51.478047,icon:"\ud83d\udccd"},{name:"Pen & Wig",id:"6061c3d8e0ff81d283155a1e",longitude:-3.175109,latitude:51.486245,icon:"\ud83d\udccd"},{name:"The Ty Mawr",id:"6061c3d8e0ff81d283155a1f",longitude:-3.179359,latitude:51.551321,icon:"\ud83d\udccd"},{name:"The Flora",id:"6061c3d8e0ff81d283155a20",longitude:-3.181329,latitude:51.493178,icon:"\ud83d\udccd"},{name:"Crown & Anchor",id:"6061c3d8e0ff81d283155a23",longitude:-.112998,latitude:51.471102,icon:"\ud83d\udccd"},{name:"Cross Keys",id:"6061c3d8e0ff81d283155a22",longitude:-.124854,latitude:51.514474,icon:"\ud83d\udccd"},{name:"Hemingford Arms",id:"6061c3d8e0ff81d283155a26",longitude:-.113115,latitude:51.542966,icon:"\ud83d\udccd"},{name:"The Packet",id:"6061c3d8e0ff81d283155a21",longitude:-3.166118,latitude:51.464403,icon:"\ud83d\udccd"},{name:"Culpeper",id:"6061c3d8e0ff81d283155a2b",longitude:-.072273,latitude:51.516339,icon:"\ud83d\udccd"},{name:"The Dove, Hammersmith",id:"6061c3d8e0ff81d283155a25",longitude:-.236564,latitude:51.490605,icon:"\ud83d\udccd"},{name:"Pride of Spitalfields",id:"6061c3d8e0ff81d283155a24",longitude:-.070371,latitude:51.51906,icon:"\ud83d\udccd"},{name:"Prince Alfred & Formosa Dining Rooms",id:"6061c3d8e0ff81d283155a30",longitude:-.184751,latitude:51.524661,icon:"\ud83d\udccd"},{name:"White Horse",id:"6061c3d8e0ff81d283155a29",longitude:-.199155,latitude:51.47377,icon:"\ud83d\udccd"},{name:"City Barge",id:"6061c3d8e0ff81d283155a28",longitude:-.279066,latitude:51.485032,icon:"\ud83d\udccd"},{name:"Railway Tavern",id:"6061c3d8e0ff81d283155a2a",longitude:-.077543,latitude:51.548572,icon:"\ud83d\udccd"},{name:"Prospect of Whitby",id:"6061c3d8e0ff81d283155a2c",longitude:-.051045,latitude:51.507102,icon:"\ud83d\udccd"},{name:"The Sun Tavern",id:"6061c3d8e0ff81d283155a27",longitude:-.059531,latitude:51.527161,icon:"\ud83d\udccd"},{name:"Hare & Billet",id:"6061c3d8e0ff81d283155a2d",longitude:.003546,latitude:51.467783,icon:"\ud83d\udccd"},{name:"East Dulwich Tavern",id:"6061c3d8e0ff81d283155a2f",longitude:-.074955,latitude:51.459845,icon:"\ud83d\udccd"},{name:"The Mayflower",id:"6061c3d8e0ff81d2831559e0",longitude:-.05321,latitude:51.501967,icon:"\ud83d\udccd"},{name:"The Ivy House",id:"6061c3d8e0ff81d2831559e1",longitude:-.052368,latitude:51.45851,icon:"\ud83d\udccd"},{name:"Pineapple",id:"6061c3d8e0ff81d2831559e3",longitude:-.139522,latitude:51.553483,icon:"\ud83d\udccd"},{name:"MC & Sons",id:"6061c3d8e0ff81d283155a31",longitude:-.100376,latitude:51.503874,icon:"\ud83d\udccd"},{name:"French House",id:"6061c3d8e0ff81d2831559de",longitude:-.1317,latitude:51.512722,icon:"\ud83d\udccd"},{name:"The Beer Shop",id:"6061c3d8e0ff81d2831559e6",longitude:-.058212,latitude:51.465297,icon:"\ud83d\udccd"},{name:"Southampton Arms",id:"6061c3d8e0ff81d2831559dd",longitude:-.146215,latitude:51.555972,icon:"\ud83d\udccd"},{name:"Compton Arms",id:"6061c3d8e0ff81d2831559e2",longitude:-.102238,latitude:51.544094,icon:"\ud83d\udccd"},{name:"The Hansom Cab",id:"6061c3d8e0ff81d283155a2e",longitude:-.197138,latitude:51.496085,icon:"\ud83d\udccd"},{name:"Auld Shillelagh",id:"6061c3d8e0ff81d2831559e4",longitude:-.079548,latitude:51.561941,icon:"\ud83d\udccd"},{name:"The Salisbury",id:"6061c3d8e0ff81d2831559e5",longitude:-.099393,latitude:51.581841,icon:"\ud83d\udccd"}],R=function(){var e=Object(s.useState)(null),t=Object(b.a)(e,2),c=t[0],a=t[1],n=Object(s.useState)(null),l=Object(b.a)(n,2),d=l[0],h=l[1],m=Object(r.h)().city,O=Object(s.useState)({latitude:51.509865,longitude:-.118092,zoom:10.5}),x=Object(b.a)(O,2),p=x[0],f=x[1];if(Object(s.useEffect)((function(){var e;"london"===(e=m)?f({latitude:51.509865,longitude:-.118092,zoom:11}):"manchester"===e?f({latitude:53.483959,longitude:-2.244644,zoom:11}):"cardiff"===e?f({latitude:51.481583,longitude:-3.17909,zoom:11}):"leeds"===e&&f({latitude:53.801277,longitude:-1.548567,zoom:11})}),[]),Object(s.useEffect)((function(){(function(){var e=Object(u.a)(j.a.mark((function e(){var t,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("/api/pubs");case 2:t=e.sent,c=t.data,h(c);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),!d)return null;var g=d.map((function(e){for(var t=0;t<E.length;t++)E[t].name===e.nameOfPub&&(e.longitude=E[t].longitude,e.latitude=E[t].latitude);return e}));return console.log("pubswith location",g),Object(v.jsx)("div",{className:"map-container",children:Object(v.jsxs)(A.c,Object(o.a)(Object(o.a)({mapboxApiAccessToken:"pk.eyJ1IjoiaGZyd2Fyd2ljayIsImEiOiJja21sd2p4cTcwYWZqMndsZXhsdG41aDlqIn0.cjW07TW74R2cD05Hap_eQQ",height:"100%",width:"100%",mapStyle:"mapbox://styles/mapbox/streets-v11"},p),{},{onViewportChange:function(e){return f(e)},children:[g.map((function(e){return e.longitude&&e.latitude?Object(v.jsx)(A.a,{longitude:e.longitude,latitude:e.latitude,children:Object(v.jsx)("span",{onClick:function(){return a(e)},children:"\ud83c\udf7a"})},e.id):null})),c&&Object(v.jsx)(i.b,{to:"/pubs/".concat(c._id),children:Object(v.jsx)(A.b,{latitude:c.latitude,longitude:c.longitude,closeOnClick:!1,onClose:function(){return a(null)},children:Object(v.jsx)("div",{children:c.nameOfPub})})})]}))})},B=function(){var e=Object(s.useState)(null),t=Object(b.a)(e,2),c=t[0],a=t[1],n=Object(s.useState)(!1),i=Object(b.a)(n,2),r=i[0],l=i[1],d=Object(s.useState)(!1),h=Object(b.a)(d,2),m=h[0],O=h[1],x=Object(s.useState)(!1),p=Object(b.a)(x,2),f=p[0],g=p[1],N=Object(s.useState)(!1),w=Object(b.a)(N,2),y=w[0],C=w[1],S=Object(s.useState)(!1),P=Object(b.a)(S,2),L=P[0],D=P[1];Object(s.useEffect)(Object(u.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(function(){var e=Object(u.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("/api/pubs");case 2:t=e.sent,a(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()();case 2:case"end":return e.stop()}}),e)}))),[]);if(!c)return null;var I=c.filter((function(e){return!0===e.isOutsideSeating})),A=c.filter((function(e){return!0===e.isFoodServed})),E=c.filter((function(e){return!0===e.isLiveSports})),B=c.filter((function(e){return!0===e.isPetFriendly})),q=c.sort((function(e,t){return t-e}));return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(F,{}),Object(v.jsxs)("div",{className:"columns",children:[Object(v.jsx)("div",{className:"column",children:Object(v.jsxs)("div",{className:"pub-index-container",children:[Object(v.jsxs)("div",{className:"pub-index-text",children:[Object(v.jsx)("p",{children:"".concat((f?E:m?B:r?I:y?A:c).length,"+ pubs")}),Object(v.jsx)("h2",{children:"All Pubs"}),Object(v.jsxs)("div",{className:"pub-filter-buttons",children:[Object(v.jsx)("button",{className:"pub-filter-button button",value:"Outside",onClick:function(){l(!r),O(!1),g(!1),C(!1),D(!1)},children:"Outside Seating"}),Object(v.jsx)("button",{className:"pub-filter-button button",value:"Pet",onClick:function(){m?(O(!1),l(!1),g(!1),C(!1),D(!1)):(O(!0),l(!1),g(!1),C(!1),D(!1))},children:"Pet friendly"}),Object(v.jsx)("button",{className:"pub-filter-button button",onClick:function(){L?(D(!1),g(!1),O(!1),l(!1),C(!1)):(D(!0),g(!1),O(!1),l(!1),C(!1))},children:"Food Served"}),Object(v.jsx)("button",{className:"pub-filter-button button",onClick:function(){f?(g(!1),O(!1),l(!1),C(!1),D(!1)):(g(!0),O(!1),l(!1),C(!1),D(!1))},children:"Live Sports"}),Object(v.jsx)("button",{className:"pub-filter-button button",onClick:function(){y?(C(!1),O(!1),g(!1),l(!1),D(!1)):(C(!0),O(!1),g(!1),l(!1),D(!1))},children:"Ratings"})]}),Object(v.jsx)("div",{className:"pub-filter-cta",children:Object(v.jsx)("p",{children:"Use filters to refine search of Pubs."})}),Object(v.jsx)("hr",{})]}),(f?E:m?B:r?I:y?A:L?q:c).map((function(e){return Object(v.jsx)(T,Object(o.a)({},e),e._id)}))]})}),Object(v.jsx)("div",{className:"mobile-map column is-two-thirds",children:Object(v.jsx)(R,{})})]})]})},q=function(){return Object(v.jsx)("footer",{children:Object(v.jsxs)("div",{className:"footer-body",children:[Object(v.jsxs)("div",{className:"columns",children:[Object(v.jsxs)("div",{className:"column",children:[Object(v.jsx)("p",{children:Object(v.jsx)("b",{children:"ABOUT"})}),Object(v.jsxs)("ul",{children:[Object(v.jsx)("li",{children:"How Pubhub works"}),Object(v.jsx)("li",{children:"Pubhub Plus"}),Object(v.jsx)("li",{children:"Pubhub for work"}),Object(v.jsx)("li",{children:"Careers"})]})]}),Object(v.jsxs)("div",{className:"column",children:[Object(v.jsx)("p",{children:Object(v.jsx)("b",{children:"COMMUNITY"})}),Object(v.jsxs)("ul",{children:[Object(v.jsx)("li",{children:"Diversity & Belonging"}),Object(v.jsx)("li",{children:"Accessibility"}),Object(v.jsx)("li",{children:"Pubhub Associates"}),Object(v.jsx)("li",{children:"Frontline Pubs"}),Object(v.jsx)("li",{children:"Guest Referrals"}),Object(v.jsx)("li",{children:"Pubhub.co.uk"})]})]}),Object(v.jsxs)("div",{className:"column",children:[Object(v.jsx)("p",{children:Object(v.jsx)("b",{children:"LANDLORD"})}),Object(v.jsxs)("ul",{children:[" ",Object(v.jsx)(i.b,{to:"/landlord",children:Object(v.jsx)("li",{children:"Become a landlord"})}),Object(v.jsx)("li",{children:"Referrals"})]})]})]}),Object(v.jsx)("hr",{}),Object(v.jsx)("p",{children:"\xa9 2021 Pubhub, Inc."})]})})},M=c.p+"static/media/clink.a1a2e06a.png",_=function(){var e=Object(s.useState)({email:"",password:""}),t=Object(b.a)(e,2),c=t[0],a=t[1],n=Object(r.f)(),i=function(e){var t=Object(o.a)(Object(o.a)({},c),{},Object(l.a)({},e.target.name,e.target.value));a(t)},d=function(){var e=Object(u.a)(j.a.mark((function e(t){var s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,k.a.post("/api/login",c);case 3:s=e.sent,window.localStorage.setItem("token",s.data.token),n.push("/");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(F,{}),Object(v.jsx)("div",{className:"login-container",children:Object(v.jsx)("section",{className:"section",children:Object(v.jsx)("div",{className:"container",children:Object(v.jsxs)("div",{className:"columns",children:[Object(v.jsx)("div",{className:"column ",children:Object(v.jsxs)("form",{className:"login-box",onSubmit:d,children:[Object(v.jsx)("h2",{children:"Login here"}),Object(v.jsx)("hr",{}),Object(v.jsx)("div",{className:"login-input-box",children:Object(v.jsx)("input",{className:"login-input",placeholder:"Email",name:"email",onChange:i,value:c.email})}),Object(v.jsx)("div",{className:"login-input-box-pass",children:Object(v.jsx)("input",{onChange:i,className:"login-input",type:"password",placeholder:"Password",name:"password",value:c.password})}),Object(v.jsxs)("div",{className:"field",children:[Object(v.jsx)("hr",{}),Object(v.jsx)("button",{type:"submit",className:"button login-button is-fullwidth ",children:"Log Me In!"})]})]})}),Object(v.jsx)("div",{className:"column",children:Object(v.jsx)("img",{src:M})})]})})})})]})},H=function(){var e=Object(s.useState)({username:"",email:"",password:"",passwordConfirmation:""}),t=Object(b.a)(e,2),c=t[0],a=t[1],n=Object(s.useState)({username:"",email:"",password:"",passwordConfirmation:""}),i=Object(b.a)(n,2),d=i[0],h=i[1],m=function(e){var t=Object(o.a)(Object(o.a)({},c),{},Object(l.a)({},e.target.name,e.target.value));a(t)},O=Object(r.f)(),x=function(){var e=Object(u.a)(j.a.mark((function e(t){var s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,k.a.post("/api/register",c);case 4:s=e.sent,console.log(s),O.push("/login"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.response),h(e.t0.response.data.errors);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(F,{}),Object(v.jsx)("section",{className:"section",children:Object(v.jsx)("div",{className:"container",children:Object(v.jsx)("div",{className:"columns",children:Object(v.jsxs)("form",{className:"column is-half is-offset-one-quarter box",onSubmit:x,children:[Object(v.jsxs)("div",{className:"field",children:[Object(v.jsx)("label",{className:"label",children:"Username"}),Object(v.jsx)("div",{className:"control",children:Object(v.jsx)("input",{className:"input ".concat(d.username?"is-danger":""),placeholder:"Username",name:"username",value:c.username,onChange:m})}),d.username&&Object(v.jsx)("p",{className:"help is-danger",children:"username error"})]}),Object(v.jsxs)("div",{className:"field",children:[Object(v.jsx)("label",{className:"label",children:"Email"}),Object(v.jsx)("div",{className:"control",children:Object(v.jsx)("input",{className:"input ".concat(d.email?"is-danger":""),placeholder:"Email",name:"email",value:c.email,onChange:m})}),d.email&&Object(v.jsx)("p",{className:"help is-danger",children:"email error"})]}),Object(v.jsxs)("div",{className:"field",children:[Object(v.jsx)("label",{className:"label",children:"Password"}),Object(v.jsx)("div",{className:"control",children:Object(v.jsx)("input",{className:"input ".concat(d.password?"is-danger":""),type:"password",placeholder:"Password",name:"password",value:c.password,onChange:m})}),d.password&&Object(v.jsx)("p",{className:"help is-danger",children:"password error"})]}),Object(v.jsxs)("div",{className:"field",children:[Object(v.jsx)("label",{className:"label",children:"Password Confirmation"}),Object(v.jsx)("div",{className:"control",children:Object(v.jsx)("input",{className:"input ".concat(d.passwordConfirmation?"is-danger":""),type:"password",placeholder:"Password Confirmation",name:"passwordConfirmation",value:c.passwordConfirmation,onChange:m})}),d.passwordConfirmation&&Object(v.jsx)("p",{className:"help is-danger",children:"password confirmation error"})]}),Object(v.jsx)("div",{className:"field",children:Object(v.jsx)("button",{type:"submit",className:"button is-fullwidth",children:"Register Me!"})})]})})})})]})},z=function(e){var t=e.handleImageUrl,c=e.value,s=function(){var e=Object(u.a)(j.a.mark((function e(c){var s,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(s=new FormData).append("file",c.target.files[0]),s.append("upload_preset","szqfag2z"),e.next=6,k.a.post("https://api.cloudinary.com/v1_1/dcljzqfzf/image/upload",s);case 6:a=e.sent,t(a.data.url),e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsx)(v.Fragment,{children:c?Object(v.jsx)("div",{children:Object(v.jsx)("img",{src:c,alt:"image"})}):Object(v.jsxs)(v.Fragment,{children:[" ",Object(v.jsx)("input",{className:"input",type:"file",onChange:s})," "]})})},U=c.p+"static/media/drinks.5b9c1d6f.png",W=function(){var e=Object(s.useState)({}),t=Object(b.a)(e,2),c=t[0],a=t[1],n=x().sub;Object(s.useEffect)((function(){(function(){var e=Object(u.a)(j.a.mark((function e(){var t,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("/api/users/".concat(n));case 2:t=e.sent,c=t.data,a(c);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var i=c.username,d=Object(r.f)(),p=function(){var e=Object(u.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.put("/api/users/".concat(n),{isLandlord:!0},{headers:{Authorization:"Bearer ".concat(O())}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=Object(s.useState)({nameOfPub:"",line1:"",line2:"",town:"",city:"",postCode:"",description:"",isOutsideSeating:!1,isPetFriendly:!1,isFoodServed:!1,isLiveSports:!1,image:""}),g=Object(b.a)(f,2),N=g[0],w=g[1];console.log(N);var y=Object(s.useState)({nameOfPub:"",line1:"",line2:"",town:"",city:"",postCode:"",description:"",isOutsideSeating:!1,isPetFriendly:!1,isFoodServed:!1,isLiveSports:!1,image:""}),C=Object(b.a)(y,2),S=(C[0],C[1],function(e){var t="checkbox"===e.target.type?e.target.checked:e.target.value;w(Object(o.a)(Object(o.a)({},N),{},Object(l.a)({},e.target.name,t)))}),P=function(){var e=Object(u.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,p();case 3:return e.prev=3,e.next=6,k.a.post("/api/pubs",N,{headers:{Authorization:"Bearer ".concat(O())}});case 6:e.sent,d.push("/pubs"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsx)("div",{className:"landlord-sign-container container",children:Object(v.jsxs)("div",{className:"columns",children:[Object(v.jsxs)("div",{className:"landlord-sign-up column",children:[Object(v.jsx)("h1",{children:"Hi, ".concat(i,"! Lets get started Listing your Pub")}),Object(v.jsx)("br",{}),Object(v.jsxs)("form",{onSubmit:P,children:[Object(v.jsxs)("div",{className:"step-one",children:[Object(v.jsx)("b",{children:"STEP 1"}),Object(v.jsx)("h2",{children:"Where is your Pub located?"}),Object(v.jsx)("h2",{children:"Name of Pub"}),Object(v.jsx)("input",{className:"input",name:"nameOfPub",value:N.nameOfPub,onChange:S}),Object(v.jsx)("br",{}),Object(v.jsx)("h2",{children:"Line 1"}),Object(v.jsx)("input",{className:"input",name:"line1",value:N.line1,onChange:S}),Object(v.jsx)("br",{}),Object(v.jsx)("h2",{children:"Line 2"}),Object(v.jsx)("input",{className:"input",name:"line2",value:N.line2,onChange:S}),Object(v.jsx)("br",{}),Object(v.jsx)("h2",{children:"Town"}),Object(v.jsx)("input",{className:"input",name:"town",value:N.town,onChange:S}),Object(v.jsx)("br",{}),Object(v.jsx)("h2",{children:"City"}),Object(v.jsx)("input",{className:"input",name:"city",value:N.city,onChange:S}),Object(v.jsx)("br",{}),Object(v.jsx)("h2",{children:"Postcode"}),Object(v.jsx)("input",{className:"input",name:"postCode",value:N.postCode,onChange:S}),Object(v.jsx)("br",{}),Object(v.jsx)("h2",{children:"Description"}),Object(v.jsx)("input",{className:"input",name:"description",value:N.description,onChange:S}),Object(v.jsx)("br",{})]}),Object(v.jsxs)("div",{className:"form-nav",children:[Object(v.jsx)("div",{className:"back-one back-button",children:Object(v.jsx)("p",{onClick:function(e){e.preventDefault(),d.push("/landlord")},children:"<< Back"})}),Object(v.jsx)("button",{className:"button-one landlord-sign-up-button button",onClick:function(e){e.preventDefault();var t=document.querySelector(".step-one"),c=document.querySelector(".step-two"),s=document.querySelector(".button-one"),a=document.querySelector(".button-two"),n=document.querySelector(".back-one"),i=document.querySelector(".backtwo");t.classList.add("hide"),s.classList.add("hide"),n.classList.add("hide"),c.classList.remove("hide"),a.classList.remove("hide"),i.classList.remove("hide")},children:"Continue"})]}),Object(v.jsxs)("div",{className:"hide step-two",children:[Object(v.jsx)("b",{children:"STEP 2"}),Object(v.jsx)("h2",{children:"What are your pubs features?"}),Object(v.jsx)("br",{}),Object(v.jsxs)("div",{className:"feature-checkbox",children:[Object(v.jsx)("div",{className:"feature-icon",children:Object(v.jsx)(h.a,{icon:m.d,className:"fa-2x"})}),Object(v.jsxs)("div",{className:"feature-text",children:[Object(v.jsx)("p",{children:"Is your pub dog friendly ?"}),Object(v.jsx)("input",{type:"checkbox",className:"checkbox",name:"isPetFriendly",checked:N.isPetFriendly,onChange:S})]})]}),Object(v.jsxs)("div",{className:"feature-checkbox",children:[Object(v.jsx)("div",{className:"feature-icon",children:Object(v.jsx)(h.a,{icon:m.c,className:"fa-2x"})}),Object(v.jsxs)("div",{className:"feature-text",children:[Object(v.jsx)("p",{children:"Do you have outdoor seating at your pub ?"}),Object(v.jsx)("input",{type:"checkbox",className:"checkbox",name:"isOutsideSeating",checked:N.isOutsideSeating,onChange:S})]})]}),Object(v.jsxs)("div",{className:"feature-checkbox",children:[Object(v.jsx)("div",{className:"feature-icon",children:Object(v.jsx)(h.a,{icon:m.m,className:"fa-2x"})}),Object(v.jsxs)("div",{className:"feature-text",children:[Object(v.jsx)("p",{children:"Do you serve food at your pub ?"}),Object(v.jsx)("input",{type:"checkbox",className:"checkbox",name:"isFoodServed",checked:N.isFoodServed,onChange:S})]})]}),Object(v.jsxs)("div",{className:"feature-checkbox",children:[Object(v.jsx)("div",{className:"feature-icon",children:Object(v.jsx)(h.a,{icon:m.e,className:"fa-2x"})}),Object(v.jsxs)("div",{className:"feature-text",children:[Object(v.jsx)("p",{children:"Do you your show live sports at your pub?"}),Object(v.jsx)("input",{type:"checkbox",className:"checkbox",name:"isLiveSports",checked:N.isLiveSports,onChange:S})]})]})]}),Object(v.jsxs)("div",{className:"form-nav",children:[Object(v.jsx)("div",{className:"hide backtwo back-button",children:Object(v.jsxs)("p",{onClick:function(e){e.preventDefault();var t=document.querySelector(".step-one"),c=document.querySelector(".step-two"),s=document.querySelector(".button-one"),a=document.querySelector(".button-two"),n=document.querySelector(".back-one"),i=document.querySelector(".backtwo");t.classList.remove("hide"),s.classList.remove("hide"),n.classList.remove("hide"),c.classList.add("hide"),a.classList.add("hide"),i.classList.add("hide")},children:[" ","<< Back"]})}),Object(v.jsx)("button",{className:"hide button-two landlord-sign-up-button button",onClick:function(e){e.preventDefault();var t=document.querySelector(".step-two"),c=document.querySelector(".step-three"),s=document.querySelector(".button-two"),a=document.querySelector(".button-three"),n=document.querySelector(".backtwo"),i=document.querySelector(".backthree");t.classList.add("hide"),s.classList.add("hide"),n.classList.add("hide"),c.classList.remove("hide"),a.classList.remove("hide"),i.classList.remove("hide")},children:"Next"})]}),Object(v.jsxs)("div",{className:" hide step-three",children:[Object(v.jsx)("b",{children:"STEP 3"}),Object(v.jsx)("h2",{children:"Lets see what your pub looks like?"}),Object(v.jsx)("br",{}),Object(v.jsx)(z,{value:N.image,name:"image",handleImageUrl:function(e){console.log("image url",e),w(Object(o.a)(Object(o.a)({},N),{},{image:e}))},formData:N})]}),Object(v.jsxs)("div",{className:"form-nav",children:[Object(v.jsx)("div",{className:"hide backthree back-button",children:Object(v.jsxs)("p",{onClick:function(e){e.preventDefault();var t=document.querySelector(".step-two"),c=document.querySelector(".step-three"),s=document.querySelector(".button-two"),a=document.querySelector(".button-three"),n=document.querySelector(".backtwo"),i=document.querySelector(".backthree");t.classList.remove("hide"),s.classList.remove("hide"),n.classList.remove("hide"),c.classList.add("hide"),a.classList.add("hide"),i.classList.add("hide")},children:[" ","<< Back"]})}),Object(v.jsx)("button",{className:"hide button-three landlord-sign-up-button button",onClick:P,children:"Next"})]})]})]}),Object(v.jsx)("div",{className:"column",children:Object(v.jsx)("img",{src:U})})]})})},Y=function(e){var t=Date.parse(e),c=new Date(t);return["Jan","Feb","Mar","April","May","June","July","Aug","Sept","Oct","Nov","Dec"][c.getMonth()]+" "+c.getFullYear()},J=function(e){var t=e.reviews,c=e.displayNumber;return Object(v.jsx)("div",{className:"grid-container",children:t.splice(0,c).map((function(e){var t=e.reviewOwnerImage,c=e.reviewOwnerName,s=e.createdAt,a=e._id,n=e.text;return Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:"review-details-container",children:[Object(v.jsx)("div",{className:"review-image",children:Object(v.jsx)("img",{src:t})}),Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{children:Object(v.jsx)("b",{children:c})}),Object(v.jsx)("div",{className:"review-date",children:Y(s)})]})]}),Object(v.jsxs)("div",{className:"comment",children:[" ",n]})]},a)}))})},G=function(){var e=Object(r.h)().id,t=Object(s.useState)(""),c=Object(b.a)(t,2),a=c[0],n=c[1],l=Object(s.useState)(null),o=Object(b.a)(l,2),d=o[0],O=o[1],g=Object(s.useState)(null),N=Object(b.a)(g,2),w=N[0],y=N[1],C=a.nameOfPub,S=a.image,P=a.description,L=a.averageRatings,D=a.address,I=a.isPetFriendly,T=a.isOutsideSeating,A=a.isFoodServed,E=a.isLiveSports,R=a.reviews,B=a.pubOwner;if(Object(s.useEffect)((function(){var t=function(){var t=Object(u.a)(j.a.mark((function t(){var c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.a.get("/api/pubs/".concat(e));case 2:c=t.sent,n(c.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),c=function(){var e=Object(u.a)(j.a.mark((function e(){var t,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("/api/pubs");case 2:t=e.sent,c=t.data,O(c);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t(),c(),window.scroll({top:100,left:100,behavior:"auto"})}),[e]),f()&&(Object(s.useEffect)((function(){(function(){var e=Object(u.a)(j.a.mark((function e(){var t,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("/api/users/".concat(x().sub));case 2:t=e.sent,c=t.data,y(c);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),!w))return null;var q=function(){var t=Object(u.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.a.post("/api/users/".concat(w._id,"/fav-pubs/").concat(e));case 3:window.location.reload(),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}();if(!a||!d)return null;var M=a.address.city,_=d.filter((function(e){return e.address.city===M})).filter((function(e){return e.nameOfPub!==a.nameOfPub}));var H,z=_.slice(0,4);return console.log("\ud83d\ude80 ~ file: PubShow.js ~ line 85 ~ PubShow ~ citiesToDisplay",z),w&&(H=w.favouritePubs.map((function(e){return e._id}))),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(F,{}),Object(v.jsxs)("div",{className:"pub-show-container",children:[Object(v.jsxs)("div",{className:"section",children:[Object(v.jsxs)("div",{className:"columns",children:[Object(v.jsxs)("div",{className:"column",children:[Object(v.jsx)("h2",{children:C}),Object(v.jsxs)("div",{className:"card-rating",children:[Object(v.jsx)("div",{className:"rating-star",children:Object(v.jsx)(h.a,{icon:m.i})}),Object(v.jsx)("p",{children:L.averageOverall}),Object(v.jsx)("p",{className:"address",children:"".concat(D.line1," \n                    ").concat(D.line2," \n                    ").concat(D.town," \n                    ").concat(D.city," \n                    ").concat(D.postCode)})]})]}),Object(v.jsx)("div",{className:"column align-right",children:Object(v.jsxs)("div",{className:"share-options",children:[Object(v.jsx)("div",{}),Object(v.jsx)("div",{className:"share-align",children:p(B)?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("span",{className:"icon-space",children:Object(v.jsx)(h.a,{icon:m.g})}),Object(v.jsx)(i.b,{to:"/pubs/".concat(e,"/edit"),children:Object(v.jsx)("p",{children:"Edit"})}),Object(v.jsx)("span",{className:"icon-space",children:Object(v.jsx)(h.a,{icon:m.j})}),Object(v.jsx)(i.b,{to:"/pubs/".concat(e,"/delete"),children:Object(v.jsx)("p",{children:"Delete"})})]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("span",{className:"icon-space",children:Object(v.jsx)(h.a,{icon:m.k})}),Object(v.jsx)("p",{children:"Share"}),H&&!H.includes(e)&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("span",{className:"icon-space",children:Object(v.jsx)(h.a,{icon:m.f})}),Object(v.jsx)("p",{onClick:q,children:"Save"})]}),H&&H.includes(e)&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("span",{className:"icon-space",children:Object(v.jsx)(h.a,{icon:m.f})}),Object(v.jsx)("p",{children:"Saved"})]})]})})]})})]}),Object(v.jsx)("img",{className:"show-image",src:S}),Object(v.jsx)("hr",{}),Object(v.jsxs)("div",{className:"columns",children:[Object(v.jsx)("div",{className:"column",children:Object(v.jsx)("p",{children:P})}),Object(v.jsxs)("div",{className:"column",children:[I&&Object(v.jsxs)("div",{className:"benefits",children:[Object(v.jsx)("div",{className:"",children:Object(v.jsx)("div",{className:"icon-align",children:Object(v.jsx)("span",{className:"desc-icon",children:Object(v.jsx)(h.a,{icon:m.d,className:"fa-2x"})})})}),Object(v.jsxs)("div",{className:"",children:[Object(v.jsx)("p",{children:Object(v.jsx)("b",{children:"Dog Friendly"})}),Object(v.jsx)("p",{children:"This pub is a great place to bring your dog"})]})]}),T&&Object(v.jsxs)("div",{className:"benefits",children:[Object(v.jsx)("div",{className:"",children:Object(v.jsx)("div",{className:"icon-align",children:Object(v.jsx)("span",{className:"desc-icon",children:Object(v.jsx)(h.a,{icon:m.c,className:"fa-2x"})})})}),Object(v.jsxs)("div",{className:"",children:[Object(v.jsx)("p",{children:Object(v.jsx)("b",{children:"Outdoor Seating"})}),Object(v.jsx)("p",{children:"This pub has wonderful outdoor seating for when there is nice weather!"})]})]}),A&&Object(v.jsxs)("div",{className:"benefits",children:[Object(v.jsx)("div",{className:"",children:Object(v.jsx)("div",{className:"icon-align",children:Object(v.jsx)("span",{className:"desc-icon",children:Object(v.jsx)(h.a,{icon:m.m,className:"fa-2x"})})})}),Object(v.jsxs)("div",{className:"",children:[Object(v.jsx)("p",{children:Object(v.jsx)("b",{children:"Food served"})}),Object(v.jsx)("p",{children:"This pub has amazing food, great to share with friends and family!"})]})]}),E&&Object(v.jsxs)("div",{className:"benefits",children:[Object(v.jsx)("div",{className:"",children:Object(v.jsx)("div",{className:"icon-align",children:Object(v.jsx)("span",{className:"desc-icon",children:Object(v.jsx)(h.a,{icon:m.e,className:"fa-2x"})})})}),Object(v.jsxs)("div",{className:"",children:[Object(v.jsx)("p",{children:Object(v.jsx)("b",{children:"Live Sports"})}),Object(v.jsx)("p",{children:"Come in for exilerating live sports!"})]})]})]})]})]}),Object(v.jsx)("hr",{}),Object(v.jsxs)("section",{className:"reviews",children:[Object(v.jsxs)("div",{className:"card-rating ",children:[Object(v.jsx)("div",{className:"rating-star2",children:Object(v.jsx)(h.a,{icon:m.i,className:"fa-1x"})}),Object(v.jsxs)("p",{className:"overall-rating",children:[L.averageOverall,"(".concat(R.length," reviews)")]})]}),Object(v.jsx)("div",{className:"average-ratings-container",children:Object(v.jsxs)("div",{className:"columns",children:[Object(v.jsxs)("div",{className:"column",children:[Object(v.jsxs)("div",{className:"columns",children:[Object(v.jsx)("div",{className:"column",children:Object(v.jsx)("p",{children:Object(v.jsx)("b",{children:"Availability"})})}),Object(v.jsx)("div",{className:"column",children:Object(v.jsxs)("div",{className:"range",children:[Object(v.jsx)("progress",{type:"range",min:"0",max:"5",value:"string"===typeof L.averageAvailability?0:L.averageAvailability.toFixed(1),className:"slider",id:"myRange"}),Object(v.jsxs)("p",{children:[" ","string"===typeof L.averageAvailability?L.averageAvailability:L.averageAvailability.toFixed(1)]})]})})]}),Object(v.jsxs)("div",{className:"columns",children:[Object(v.jsx)("div",{className:"column",children:Object(v.jsx)("p",{children:Object(v.jsx)("b",{children:"Comfortability"})})}),Object(v.jsx)("div",{className:"column",children:Object(v.jsxs)("div",{className:"range",children:[Object(v.jsx)("progress",{type:"range",min:"0",max:"5",value:"string"===typeof L.averageComfortability?0:L.averageComfortability.toFixed(1),className:"slider",id:"myRange"}),Object(v.jsx)("p",{children:"string"===typeof L.averageComfortability?L.averageComfortability:L.averageComfortability.toFixed(1)})]})})]}),Object(v.jsxs)("div",{className:"columns",children:[Object(v.jsx)("div",{className:"column",children:Object(v.jsx)("p",{children:Object(v.jsx)("b",{children:"Price"})})}),Object(v.jsx)("div",{className:"column",children:Object(v.jsxs)("div",{className:"range",children:[Object(v.jsx)("progress",{type:"range",min:"0",max:"5",value:"string"===typeof L.averagePrice?0:L.averagePrice.toFixed(1),className:"slider",id:"myRange"}),Object(v.jsxs)("p",{children:[" ","string"===typeof L.averagePrice?L.averagePrice:L.averagePrice.toFixed(1)]})]})})]})]}),Object(v.jsx)("div",{className:"column"})]})}),Object(v.jsx)("div",{className:"comments",children:Object(v.jsx)(J,{reviews:R,displayNumber:6})}),Object(v.jsxs)("div",{className:"reviews-button-container",children:[Object(v.jsx)("button",{className:"reviews-button button",name:"show-reviews-button",children:"Show all ".concat(R.length," Reviews")}),f()&&!p(B)&&Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(i.b,{to:"/pubs/".concat(e,"/submit-review"),children:Object(v.jsx)("button",{className:"reviews-button button",name:"submit-reviews-button",children:"Submit a Review"})})})]})]}),Object(v.jsx)("hr",{}),Object(v.jsxs)("h2",{children:["More Pubs In ",D.city]}),Object(v.jsx)("br",{}),a&&Object(v.jsx)("div",{className:"columns is-multiline",children:function(e,t){var c=new Array(t),s=e.length,a=new Array(s);if(t>s)throw new RangeError("getRandom: more elements taken than available");for(;t--;){var n=Math.floor(Math.random()*s);c[t]=e[n in a?a[n]:n],a[n]=--s in a?a[s]:s}return c}(_,8).map((function(e){return Object(v.jsx)("div",{className:"column is-one-quarter-desktop is-one-third-tablet",children:Object(v.jsx)(i.b,{to:"/pubs/".concat(e.id),children:Object(v.jsxs)("div",{className:"card ",children:[Object(v.jsx)("div",{className:"card-image ",children:Object(v.jsx)("figure",{className:"image resize image-is-1by1",children:Object(v.jsx)("img",{src:e.image,alt:e.nameOfPub})})}),Object(v.jsx)("div",{className:"card-header ",children:Object(v.jsx)("div",{className:"card-header-title",children:e.nameOfPub})})]})})},e._id)}))}),Object(v.jsx)("hr",{})]})]})},K=function(){var e=Object(s.useState)(null),t=Object(b.a)(e,2),c=t[0],a=t[1],n=x().sub;return console.log(n),Object(s.useEffect)((function(){(function(){var e=Object(u.a)(j.a.mark((function e(){var t,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("/api/users/".concat(n));case 2:t=e.sent,c=t.data,a(c);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),c?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(F,{}),Object(v.jsx)("div",{className:"submit-review-container",children:Object(v.jsxs)("div",{className:"columns",children:[Object(v.jsxs)("div",{className:"column is-two-thirds",children:[Object(v.jsxs)("div",{className:"submit-review-details",children:[Object(v.jsx)("h2",{children:"Your Favourite pubs"}),Object(v.jsx)("hr",{}),Object(v.jsx)("p",{children:"A collection of all of your favourite pubs"}),Object(v.jsx)("br",{})]}),c.favouritePubs.map((function(e){var t=e.image,c=e.nameOfPub,s=e._id;return Object(v.jsx)("div",{className:"column",children:Object(v.jsxs)("div",{className:"columns",children:[Object(v.jsx)("div",{className:"column",children:Object(v.jsx)(i.b,{to:"/pubs/".concat(s),children:Object(v.jsx)("img",{className:"pubcard-image",src:t,alt:c})})}),Object(v.jsx)("div",{className:"column",children:Object(v.jsx)("h4",{children:c})})]})},s)}))]}),Object(v.jsx)("div",{className:"column"})]})})]}):null},Q=function(){var e=Object(s.useState)({email:"",password:""}),t=Object(b.a)(e,2),c=t[0],a=t[1],n=Object(r.f)(),i=function(e){var t=Object(o.a)(Object(o.a)({},c),{},Object(l.a)({},e.target.name,e.target.value));a(t)},d=function(){var e=Object(u.a)(j.a.mark((function e(t){var s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,k.a.post("/api/login",c);case 3:s=e.sent,window.localStorage.setItem("token",s.data.token),n.push("/landlord/signup");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)(v.Fragment,{children:[!f()&&Object(v.jsxs)("form",{className:"login-box animate__animated animate__fadeInUp",onSubmit:d,children:[Object(v.jsx)("h2",{children:"Login here"}),Object(v.jsx)("hr",{}),Object(v.jsx)("div",{className:"login-input-box",children:Object(v.jsx)("input",{className:"login-input",placeholder:"Email",name:"email",onChange:i,value:c.email})}),Object(v.jsx)("div",{className:"login-input-box-pass",children:Object(v.jsx)("input",{onChange:i,className:"login-input",type:"password",placeholder:"Password",name:"password",value:c.password})}),Object(v.jsxs)("div",{className:"field",children:[Object(v.jsx)("hr",{}),Object(v.jsx)("button",{type:"submit",className:"button login-button is-fullwidth ",children:"Log Me In!"})]})]}),f()&&Object(v.jsx)("div",{className:"login-h1",children:Object(v.jsx)("h1",{children:"You have logged in click to close"})})]})},Z=function(){var e=Object(s.useRef)(null);return Object(v.jsxs)("div",{children:[Object(v.jsxs)("section",{className:"landlord-header-bg hero is-medium",children:[Object(v.jsx)("br",{}),Object(v.jsx)(i.b,{to:"/",children:Object(v.jsxs)("div",{className:"logo",children:[Object(v.jsx)(h.a,{icon:m.b}),Object(v.jsx)("span",{className:"logo-space",children:"Pubhub"})]})}),Object(v.jsx)("div",{className:"landlord-hero-body hero-body",children:Object(v.jsxs)("div",{className:"animate__animated animate__fadeInUp",children:[Object(v.jsx)("h2",{children:"BECOME A LANDLORD"}),Object(v.jsx)("br",{}),Object(v.jsx)("h1",{children:"List your Pub on Pubhub and earn up to \xa3200 a month*"}),Object(v.jsx)("br",{}),f()&&Object(v.jsx)(i.b,{to:"/landlord/signup",children:Object(v.jsx)("button",{className:"landlord-get-started button",children:"Get Started"})}),!f()&&Object(v.jsx)("button",{onClick:function(){return e.current.open()},className:"landlord-get-started button",children:"Login to Get Started"}),Object(v.jsx)("br",{}),Object(v.jsx)("p",{children:"How we estimate your earnings potential"})]})})]}),Object(v.jsx)("section",{className:"container",children:Object(v.jsxs)("div",{className:"landlord-boxes columns",children:[Object(v.jsx)("div",{className:"landlord-box column",children:Object(v.jsx)("div",{className:"landlord-content",children:Object(v.jsx)("h1",{children:"Your next chapter, made possible by being a Landlord"})})}),Object(v.jsx)("div",{className:"landlord-box column",children:Object(v.jsxs)("div",{className:"landlord-content",children:[Object(v.jsx)("h5",{children:"Welcome what\u2019s next"}),Object(v.jsx)("br",{}),Object(v.jsx)("p",{children:"Enjoy the flexibility of being your own boss, earn extra income, and make lifelong connections through being a Lardlord."})]})}),Object(v.jsx)("div",{className:"landlord-box column",children:Object(v.jsxs)("div",{className:"landlord-content",children:[Object(v.jsx)("h5",{children:"Be a Landlord with confidence"}),Object(v.jsx)("br",{}),Object(v.jsx)("p",{children:"From 24/7 support and our helpful Landlord community, to custom tools, insights, and education, we\u2019re invested in your success."})]})})]})}),Object(v.jsx)(w,{ref:e,children:Object(v.jsx)(Q,{})})]})},V=function(){var e=Object(r.h)().userID,t=Object(r.f)(),c=Object(s.useState)({username:"",password:"",passwordConfirmation:"",profileImage:""}),a=Object(b.a)(c,2),n=a[0],i=a[1],d=function(e){var t=Object(o.a)(Object(o.a)({},n),{},Object(l.a)({},e.target.name,e.target.value));console.log(t),i(t)},h=function(){var c=Object(u.a)(j.a.mark((function c(s){return j.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return s.preventDefault(),console.log(n),c.next=4,k.a.put("/api/users/".concat(e),n,{headers:{Authorization:"Bearer ".concat(O())}});case 4:t.push("/profile/".concat(e));case 5:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}();return Object(v.jsxs)("form",{onSubmit:h,children:[Object(v.jsxs)("div",{className:"field",children:[Object(v.jsx)("label",{className:"label",children:"Username: "}),Object(v.jsxs)("div",{className:"control has-icons-left has-icons-right",children:[Object(v.jsx)("input",{className:"input ",type:"text",placeholder:"Enter the same or different username",name:"username",onChange:d}),Object(v.jsx)("span",{className:"icon is-small is-left",children:Object(v.jsx)("i",{className:"fas fa-user"})}),Object(v.jsx)("span",{className:"icon is-small is-right",children:Object(v.jsx)("i",{className:"fas fa-check"})})]})]}),Object(v.jsxs)("div",{className:"field",children:[Object(v.jsx)("label",{className:"label",children:"Email: "}),Object(v.jsxs)("div",{className:"control has-icons-left has-icons-right",children:[Object(v.jsx)("input",{className:"input",type:"email",placeholder:"Enter your new email",name:"email",onChange:d}),Object(v.jsx)("span",{className:"icon is-small is-left",children:Object(v.jsx)("i",{className:"fas fa-envelope"})}),Object(v.jsx)("span",{className:"icon is-small is-right",children:Object(v.jsx)("i",{className:"fas fa-exclamation-triangle"})})]})]}),Object(v.jsxs)("div",{className:"field",children:[Object(v.jsx)("label",{className:"label",children:"Password"}),Object(v.jsxs)("div",{className:"control has-icons-left has-icons-right",children:[Object(v.jsx)("input",{className:"input",type:"password",placeholder:"Enter your new password",name:"password",onChange:d}),Object(v.jsx)("span",{className:"icon is-small is-left",children:Object(v.jsx)("i",{className:"fas fa-envelope"})}),Object(v.jsx)("span",{className:"icon is-small is-right",children:Object(v.jsx)("i",{className:"fas fa-exclamation-triangle"})})]})]}),Object(v.jsxs)("div",{className:"field",children:[Object(v.jsx)("label",{className:"label",children:"Confirm Password"}),Object(v.jsxs)("div",{className:"control has-icons-left has-icons-right",children:[Object(v.jsx)("input",{className:"input",type:"password",placeholder:"Passwords must match",name:"passwordConfirmation",onChange:d}),Object(v.jsx)("span",{className:"icon is-small is-left",children:Object(v.jsx)("i",{className:"fas fa-envelope"})}),Object(v.jsx)("span",{className:"icon is-small is-right",children:Object(v.jsx)("i",{className:"fas fa-exclamation-triangle"})})]})]}),Object(v.jsxs)("div",{className:"field is-grouped",children:[Object(v.jsx)("div",{className:"control",children:Object(v.jsx)("button",{className:"button ",type:"submit",children:"Submit"})}),Object(v.jsx)("div",{className:"control",children:Object(v.jsx)("button",{className:"button ",type:"button",onClick:function(){t.push("/profile/".concat(e))},children:"Cancel"})})]})]})},X=function(e){var t=e.reviews,c=e.displayNumber;return Object(v.jsx)("div",{className:"profile-comment-container",children:t.splice(0,c).map((function(e){var t=e.createdAt,c=e._id,s=e.text,a=e.reviewOwner,n=e.pubName,r=e.pubID;return Object(v.jsxs)("div",{className:"profile-comment ",children:[Object(v.jsx)("div",{className:"profile-review-details-container",children:Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{children:Object(v.jsx)("b",{children:n})}),Object(v.jsx)("div",{className:"review-date",children:Y(t)})]})}),Object(v.jsxs)("div",{className:"comment",children:[" ",s]}),p(a)&&Object(v.jsx)(i.b,{to:"/pubs/".concat(r,"/reviews-delete/").concat(c),children:Object(v.jsx)("div",{children:Object(v.jsx)("button",{className:"button delete-review",children:"Delete Review"})})})]},c)}))})},$=function(){var e=Object(s.useState)(null),t=Object(b.a)(e,2),c=t[0],a=t[1],n=Object(s.useState)(null),r=Object(b.a)(n,2),l=r[0],o=r[1],d=Object(s.useState)(!1),O=Object(b.a)(d,2),p=O[0],f=O[1],g=x().sub;if(Object(s.useEffect)((function(){var e=function(){var e=Object(u.a)(j.a.mark((function e(){var t,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("/api/users/".concat(g));case 2:t=e.sent,c=t.data,a(c);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(u.a)(j.a.mark((function e(){var t,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("/api/pubs");case 2:t=e.sent,c=t.data,o(c);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),t()}),[]),!c||!l)return null;var N=c.username,w=c.email,y=c.createdAt,C=c.profileImage,S=l.map((function(e){return e.reviews})).flat().filter((function(e){return e.reviewOwner===g}));return console.log("profile",c),console.log("profile",S),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(F,{}),c&&Object(v.jsx)("div",{className:"profile-container",children:Object(v.jsxs)("div",{className:"columns",children:[Object(v.jsxs)("div",{className:"column",children:[" ",Object(v.jsxs)("div",{className:"profile-box",children:[Object(v.jsx)("img",{className:"profile-image",alt:"user profile image",src:C}),Object(v.jsx)(i.b,{to:"/profile/".concat(g,"/edit-profile-image"),children:Object(v.jsx)("div",{className:"edit-profile-button",name:"edit-profile-image",children:"Change Image"})}),Object(v.jsx)("hr",{}),Object(v.jsx)("div",{children:Object(v.jsx)("b",{children:"Email"})}),Object(v.jsx)("p",{children:w}),Object(v.jsx)("hr",{}),Object(v.jsx)(i.b,{to:"/profile/delete-account/".concat(g),children:Object(v.jsx)("button",{className:"delete-account-button button",name:"delete-profile",children:"Delete My Account"})})]})]}),Object(v.jsxs)("div",{className:"column",children:[Object(v.jsxs)("div",{className:"username",children:[Object(v.jsx)("h2",{children:"Hi, i'm ".concat(N)}),Object(v.jsx)("p",{children:"Joined in ".concat(Y(y)," ")})]}),Object(v.jsx)("div",{className:"edit-profile-button",name:"edit-account",onClick:function(){f(!p)},children:"Edit Account Details"}),Object(v.jsx)("hr",{}),p&&Object(v.jsx)(V,{}),Object(v.jsxs)("div",{className:"card-rating",children:[Object(v.jsx)("div",{className:"rating-star2",children:Object(v.jsx)(h.a,{icon:m.i,className:"fa-1x"})}),Object(v.jsx)("p",{className:"overall-rating",children:S&&"(".concat(S.length," reviews)")})]}),Object(v.jsx)("hr",{}),Object(v.jsx)("p",{children:"Reviews by you"}),S&&Object(v.jsx)(X,{userID:g,reviews:S,displayNumber:3})]})]})})]})},ee=function(){var e=Object(s.useState)(null),t=Object(b.a)(e,2),c=t[0],a=t[1],n=Object(s.useState)(!1),l=Object(b.a)(n,2),d=l[0],h=l[1],m=Object(s.useState)(!1),O=Object(b.a)(m,2),x=O[0],p=O[1],f=Object(s.useState)(!1),g=Object(b.a)(f,2),N=g[0],w=g[1],y=Object(s.useState)(!1),C=Object(b.a)(y,2),S=C[0],P=C[1],L=Object(s.useState)(!1),D=Object(b.a)(L,2),I=D[0],A=D[1],E=Object(r.h)().city,B=E[0].toUpperCase()+E.slice(1);Object(s.useEffect)(Object(u.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(function(){var e=Object(u.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("/api/pubs");case 2:t=e.sent,a(t.data),console.log(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()();case 2:case"end":return e.stop()}}),e)}))),[]);if(!c)return null;console.log("filteredByCity list>>>>",c);var q=c.filter((function(e){var t=E.toLowerCase();return e.address.city.toLowerCase()===t})),M=q.filter((function(e){return!0===e.isOutsideSeating})),_=q.filter((function(e){return!0===e.isFoodServed})),H=q.filter((function(e){return!0===e.isLiveSports})),z=q.filter((function(e){return!0===e.isPetFriendly})),U=q.sort((function(e,t){return t-e}));return console.log("\ud83d\ude80 ~ file: PubIndex.js ~ line 115 ~ isRating ~ isRating",U),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(F,{}),Object(v.jsxs)("div",{className:"columns",children:[Object(v.jsx)("div",{className:"column",children:Object(v.jsxs)("div",{className:"pub-index-container",children:[Object(v.jsxs)("div",{className:"pub-index-text",children:[Object(v.jsx)("p",{children:"".concat((N?H:x?z:d?M:S?_:q).length,"+ pubs")}),0===q.length&&Object(v.jsxs)("p",{children:["We did not find what you were looking for... try looking at"," ",Object(v.jsx)(i.b,{to:"/pubs",children:Object(v.jsx)("a",{className:"link-to-index",children:"all of our listed Pubs"})})]}),0===q.length?null:Object(v.jsxs)("h2",{children:["Pubs in ",B]}),Object(v.jsxs)("div",{className:"pub-filter-buttons",children:[Object(v.jsx)("button",{className:"pub-filter-button button",value:"Outside",onClick:function(){d?(h(!1),console.log("second log>>>>",d)):(h(!0),p(!1),w(!1),P(!1),A(!1),console.log("first log>>>>",d))},children:"Outside Seating"}),Object(v.jsx)("button",{className:"pub-filter-button button",value:"Pet",onClick:function(){x?(p(!1),h(!1),w(!1),P(!1),A(!1),console.log("second log>>>>",x)):(p(!0),h(!1),w(!1),P(!1),A(!1),console.log("first log>>>>",x))},children:"Pet friendly"}),Object(v.jsx)("button",{className:"pub-filter-button button",onClick:function(){I?(A(!1),w(!1),p(!1),h(!1),P(!1),console.log("second log>>>>",I)):(A(!0),w(!1),p(!1),h(!1),P(!1),console.log("first log>>>>",I))},children:"Food Served"}),Object(v.jsx)("button",{className:"pub-filter-button button",onClick:function(){N?(w(!1),p(!1),h(!1),P(!1),A(!1),console.log("second log>>>>",N)):(w(!0),p(!1),h(!1),P(!1),A(!1),console.log("first log>>>>",N))},children:"Live Sports"}),Object(v.jsx)("button",{className:"pub-filter-button button",onClick:function(){S?(P(!1),p(!1),w(!1),h(!1),A(!1),console.log("second log>>>>",S)):(P(!0),p(!1),w(!1),h(!1),A(!1),console.log("first log>>>>",S))},children:"Ratings"})]}),Object(v.jsx)("div",{className:"pub-filter-cta",children:Object(v.jsx)("p",{children:"Use filters to refine search of Pubs."})}),Object(v.jsx)("hr",{})]}),(N?H:x?z:d?M:S?_:I?U:q).map((function(e){return Object(v.jsx)(T,Object(o.a)({},e),e._id)}))]})}),Object(v.jsx)("div",{className:"mobile-map column is-two-thirds",children:0===q.length?null:Object(v.jsx)(R,{})})]})]})},te=function(){var e=Object(r.f)(),t=Object(s.useState)({price:0,availability:0,comfortability:0,text:"No comment added"}),c=Object(b.a)(t,2),a=c[0],n=c[1],d=Object(r.h)().id;console.log("id>>>>>",d);var h=function(e){var t=Object(o.a)(Object(o.a)({},a),{},Object(l.a)({},e.target.name,e.target.value));console.log(t),n(t)},m=function(){var t=Object(u.a)(j.a.mark((function t(c){var s;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a),c.preventDefault(),t.prev=2,t.next=5,k.a.post("/api/pubs/".concat(d,"/reviews"),a,{headers:{Authorization:"Bearer ".concat(O())}});case 5:s=t.sent,console.log(s),e.push("/pubs/".concat(d)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),console.log(t.t0.message);case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}();return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(F,{}),Object(v.jsx)("div",{className:"submit-review-container",children:Object(v.jsxs)("div",{className:"columns",children:[Object(v.jsxs)("div",{className:"column is-two-thirds",children:[Object(v.jsxs)("div",{className:"submit-review-details",children:[Object(v.jsx)("div",{className:"review-breadcrumb",children:Object(v.jsxs)("b",{children:[" ",Object(v.jsx)(i.b,{to:"/pubs/".concat(d),children:"Pub"})," ",Object(v.jsxs)("span",{className:"crumb-arrow",children:[">"," "]})," ","Submit Review"]})}),Object(v.jsx)("h2",{children:"Submit your review of the pub"}),Object(v.jsx)("hr",{}),Object(v.jsx)("p",{children:"Input your ratings and your review of the pub based on your experience"}),Object(v.jsx)("br",{})]}),Object(v.jsx)("div",{className:"review-box",children:Object(v.jsxs)("form",{onSubmit:m,children:[Object(v.jsxs)("div",{className:"field is-horizontal",children:[Object(v.jsx)("div",{className:"field-label is-normal",children:Object(v.jsx)("label",{className:"label",children:"Price"})}),Object(v.jsx)("div",{className:"field-body",children:Object(v.jsx)("div",{className:"field is-narrow",children:Object(v.jsx)("div",{className:"control",children:Object(v.jsx)("div",{className:"select is-fullwidth",children:Object(v.jsxs)("select",{onChange:h,name:"price",children:[Object(v.jsx)("option",{value:"",children:"Choose a rating"}),Object(v.jsx)("option",{value:"1",children:"1"}),Object(v.jsx)("option",{value:"2",children:"2"}),Object(v.jsx)("option",{value:"3",children:"3"}),Object(v.jsx)("option",{value:"4",children:"4"}),Object(v.jsx)("option",{value:"5",children:"5"})]})})})})})]}),Object(v.jsx)("hr",{}),Object(v.jsxs)("div",{className:"field is-horizontal",children:[Object(v.jsx)("div",{className:"field-label is-normal",children:Object(v.jsx)("label",{className:"label",children:"Comfortability"})}),Object(v.jsx)("div",{className:"field-body",children:Object(v.jsx)("div",{className:"field is-narrow",children:Object(v.jsx)("div",{className:"control",children:Object(v.jsx)("div",{className:"select is-fullwidth",children:Object(v.jsxs)("select",{onChange:h,name:"comfortability",children:[Object(v.jsx)("option",{value:"",children:"Choose a rating"}),Object(v.jsx)("option",{value:"1",children:"1"}),Object(v.jsx)("option",{value:"2",children:"2"}),Object(v.jsx)("option",{value:"3",children:"3"}),Object(v.jsx)("option",{value:"4",children:"4"}),Object(v.jsx)("option",{value:"5",children:"5"})]})})})})})]}),Object(v.jsx)("hr",{}),Object(v.jsxs)("div",{className:"field is-horizontal",children:[Object(v.jsx)("div",{className:"field-label is-normal",children:Object(v.jsx)("label",{className:"label",children:"Availability"})}),Object(v.jsx)("div",{className:"field-body",children:Object(v.jsx)("div",{className:"field is-narrow",children:Object(v.jsx)("div",{className:"control",children:Object(v.jsx)("div",{className:"select is-fullwidth",children:Object(v.jsxs)("select",{onChange:h,name:"availability",children:[Object(v.jsx)("option",{value:"",children:"Choose a rating"}),Object(v.jsx)("option",{value:"1",children:"1"}),Object(v.jsx)("option",{value:"2",children:"2"}),Object(v.jsx)("option",{value:"3",children:"3"}),Object(v.jsx)("option",{value:"4",children:"4"}),Object(v.jsx)("option",{value:"5",children:"5"})]})})})})})]}),Object(v.jsx)("hr",{}),Object(v.jsxs)("div",{className:"field is-horizontal",children:[Object(v.jsx)("div",{className:"field-label is-normal",children:Object(v.jsx)("label",{className:"label",children:"Review"})}),Object(v.jsx)("div",{className:"field-body",children:Object(v.jsx)("div",{className:"field",children:Object(v.jsx)("div",{className:"control",children:Object(v.jsx)("textarea",{className:"textarea",onChange:h,name:"text",placeholder:"What did you think? "})})})})]}),Object(v.jsxs)("div",{className:"field is-horizontal",children:[Object(v.jsx)("div",{className:"field-label"}),Object(v.jsx)("div",{className:"field-body",children:Object(v.jsx)("div",{className:"field",children:Object(v.jsx)("div",{className:"control",children:Object(v.jsx)("button",{className:"button ",type:"submit",children:"Submit Review"})})})})]})]})})]}),Object(v.jsx)("div",{className:"column"})]})})]})},ce=function(){var e=Object(r.f)(),t=Object(r.h)().userID,c=function(){var t=Object(u.a)(j.a.mark((function t(c){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.preventDefault(),t.next=3,k.a.delete("/api/users/".concat(x().sub),{headers:{Authorization:"Bearer ".concat(O())}});case 3:e.push("/"),s();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),s=function(){window.localStorage.removeItem("token"),window.alert("Your Account has been deleted"),e.push("/")};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(F,{}),Object(v.jsx)("div",{className:"submit-review-container",children:Object(v.jsxs)("div",{className:"columns",children:[Object(v.jsxs)("div",{className:"column is-two-thirds",children:[Object(v.jsxs)("div",{className:"submit-review-details",children:[Object(v.jsx)("div",{className:"review-breadcrumb",children:Object(v.jsxs)("b",{children:[Object(v.jsx)(i.b,{to:"/profile/".concat(t),children:"Profile"})," ",Object(v.jsxs)("span",{className:"crumb-arrow",children:[">"," "]})," ","Delete Profile"]})}),Object(v.jsx)("h2",{children:"Delete your account"}),Object(v.jsx)("hr",{}),Object(v.jsx)("p",{children:"We are sad to see you go, but please read the message before you make your decision."}),Object(v.jsx)("br",{})]}),Object(v.jsxs)("div",{className:"notification is-danger is-light",children:[Object(v.jsx)("p",{children:"WARNING!!! Once your account is deleted, all associated data will be lost. If you are sure you wish to proceed, please click Delete My Account. If not, click cancel to return to you profile page."}),Object(v.jsx)("br",{}),Object(v.jsx)("button",{className:"button delete-button is-danger",onClick:c,children:"Delete My Account"}),Object(v.jsx)("button",{className:"button is-danger is-outlined",onClick:function(){e.push("/profile/".concat(t))},children:"Cancel"})]})]}),Object(v.jsx)("div",{className:"column"})]})})]})},se=function(){var e=Object(s.useState)({email:"",password:""}),t=Object(b.a)(e,2),c=t[0],a=t[1],n=Object(r.f)(),i=function(e){var t=Object(o.a)(Object(o.a)({},c),{},Object(l.a)({},e.target.name,e.target.value));a(t)},d=function(){var e=Object(u.a)(j.a.mark((function e(t){var s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,k.a.post("/api/login",c);case 3:s=e.sent,window.localStorage.setItem("token",s.data.token),n.push("/landlord/signup");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(F,{}),Object(v.jsx)("section",{className:"section",children:Object(v.jsx)("div",{className:"container",children:Object(v.jsxs)("div",{className:"columns",children:[Object(v.jsx)("div",{className:"column",children:Object(v.jsx)("h1",{children:"Log in to Add your first pub"})}),Object(v.jsxs)("form",{className:"box column is-half is-offset-one-quarter",onSubmit:d,children:[Object(v.jsxs)("div",{className:"field",children:[Object(v.jsx)("label",{className:"label",children:"Email"}),Object(v.jsx)("div",{className:"control",children:Object(v.jsx)("input",{className:"input",placeholder:"Email",name:"email",onChange:i,value:c.email})})]}),Object(v.jsxs)("div",{className:"field",children:[Object(v.jsx)("label",{className:"label",children:"Password"}),Object(v.jsx)("div",{className:"control",children:Object(v.jsx)("input",{onChange:i,className:"input",type:"password",placeholder:"Password",name:"password",value:c.password})})]}),Object(v.jsx)("div",{className:"field",children:Object(v.jsx)("button",{type:"submit",className:"button is-fullwidth ",children:"Log Me In!"})})]})]})})})]})},ae=function(){var e=Object(r.f)(),t=O().sub,c=Object(r.h)(),s=c.pubID,a=c.reviewID;console.log("pubID",s),console.log("reviewid",a);var n=function(){var c=Object(u.a)(j.a.mark((function c(n){return j.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n.preventDefault(),c.next=3,k.a.delete("/api/pubs/".concat(s,"/reviews/").concat(a),{headers:{Authorization:"Bearer ".concat(O())}});case 3:window.alert("your review has been deleted"),e.push("/profile/".concat(t));case 5:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}();return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(F,{}),Object(v.jsx)("div",{className:"submit-review-container",children:Object(v.jsxs)("div",{className:"columns",children:[Object(v.jsxs)("div",{className:"column is-two-thirds",children:[Object(v.jsxs)("div",{className:"submit-review-details",children:[Object(v.jsx)("div",{className:"review-breadcrumb",children:Object(v.jsxs)("b",{children:[Object(v.jsx)(i.b,{to:"/profile/".concat(t),children:"Profile"})," ",Object(v.jsxs)("span",{className:"crumb-arrow",children:[">"," "]})," ","Delete Review"]})}),Object(v.jsx)("h2",{children:"Delete your comment"}),Object(v.jsx)("hr",{}),Object(v.jsx)("p",{children:"Please read the message below before you delete your comment"}),Object(v.jsx)("br",{})]}),Object(v.jsxs)("div",{className:"notification is-danger is-light",children:[Object(v.jsxs)("p",{children:[" ","WARNING!!! If you delete this review it is gone for good. If you are sure you wish to proceed, please click Delete Review. If not, click cancel to return to you profile page."]}),Object(v.jsx)("br",{}),Object(v.jsx)("button",{className:"button delete-button is-danger",onClick:n,children:"Delete Review"}),Object(v.jsx)("button",{className:"button is-danger is-outlined",onClick:function(){e.push("/profile/".concat(t))},children:"Cancel"})]})]}),Object(v.jsx)("div",{className:"column"})]})})]})},ne=function(){var e=Object(r.f)(),t=Object(r.h)().pubID,c=O().sub;console.log("pubID",t);var s=function(){var s=Object(u.a)(j.a.mark((function s(a){return j.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return a.preventDefault(),s.next=3,k.a.delete("/api/pubs/".concat(t),{headers:{Authorization:"Bearer ".concat(O())}});case 3:window.alert("Your Pub has been deleted"),e.push("/profile/".concat(c));case 5:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}();return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(F,{}),Object(v.jsxs)("div",{className:"submit-review-container",children:[Object(v.jsx)("div",{className:"columns",children:Object(v.jsxs)("div",{className:"column is-two-thirds",children:[" ",Object(v.jsxs)("div",{className:"submit-review-details",children:[Object(v.jsx)("div",{className:"review-breadcrumb",children:Object(v.jsxs)("b",{children:[Object(v.jsx)(i.b,{to:"/landlord-profile/".concat(c),children:"Pub"})," ",Object(v.jsxs)("span",{className:"crumb-arrow",children:[">"," "]})," ","Delete Pub"]})}),Object(v.jsx)("h2",{children:"Delete your Pub"}),Object(v.jsx)("hr",{}),Object(v.jsx)("p",{children:"Please read the message below before you delete your Pub"}),Object(v.jsx)("br",{})]}),Object(v.jsxs)("div",{className:"notification is-danger is-light",children:[Object(v.jsxs)("p",{children:[" ","WARNING!!! Once this pub is deleted, all associated data will be lost. If you are sure you wish to proceed, please click Delete My Pub. If not, click cancel to return to the pub page."]}),Object(v.jsx)("button",{className:"button delete-button is-danger",onClick:s,children:"Delete My Pub"}),Object(v.jsx)("button",{className:"button is-danger is-outlined",onClick:function(){e.push("/pubs/".concat(t))},children:"Cancel"})]})]})}),Object(v.jsx)("div",{className:"column"})]})]})},ie=function(){var e=Object(r.h)().userID,t=Object(r.f)(),c=Object(s.useState)({profileImage:""}),a=Object(b.a)(c,2),n=a[0],l=a[1],d=function(e){l(Object(o.a)(Object(o.a)({},n),{},{profileImage:e}))},h=function(){var c=Object(u.a)(j.a.mark((function c(s){return j.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return s.preventDefault(),console.log(n),c.next=4,k.a.put("/api/users/".concat(e),n,{headers:{Authorization:"Bearer ".concat(O())}});case 4:d(),t.push("/profile/".concat(e));case 6:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}();return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(F,{}),Object(v.jsx)("div",{className:"submit-review-container",children:Object(v.jsxs)("div",{className:"columns",children:[Object(v.jsxs)("div",{className:"column is-two-thirds",children:[Object(v.jsxs)("div",{className:"submit-review-details",children:[Object(v.jsx)("div",{className:"review-breadcrumb",children:Object(v.jsxs)("b",{children:[Object(v.jsx)(i.b,{to:"/profile/".concat(e),children:"Profile"})," ",Object(v.jsxs)("span",{className:"crumb-arrow",children:[">"," "]})," ","Upload"]})}),Object(v.jsx)("h2",{children:"Upload your profile picture"}),Object(v.jsx)("hr",{}),Object(v.jsx)("p",{children:"Use the image upload below to change your profile picture (File size should be less than 300kb)"}),Object(v.jsx)("br",{})]}),Object(v.jsx)("hr",{}),Object(v.jsxs)("form",{onSubmit:h,children:[Object(v.jsx)(z,{value:n.profileImage,name:"profileImage",handleImageUrl:d,formData:n}),Object(v.jsx)("hr",{}),Object(v.jsxs)("div",{className:"field is-grouped",children:[Object(v.jsx)("div",{className:"control",children:Object(v.jsx)("button",{className:"button",type:"submit",children:"Submit"})}),Object(v.jsx)("div",{className:"control",children:Object(v.jsx)("button",{className:"button",type:"button",onClick:function(){t.push("/profile/".concat(e))},children:"Cancel"})})]})]})]}),Object(v.jsx)("div",{className:"column"})]})})]})},re=function(){var e=Object(s.useState)(null),t=Object(b.a)(e,2),c=t[0],a=t[1],n=Object(s.useState)(null),r=Object(b.a)(n,2),l=r[0],o=r[1],d=x().sub;if(Object(s.useEffect)((function(){var e=function(){var e=Object(u.a)(j.a.mark((function e(){var t,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("/api/users/".concat(d));case 2:t=e.sent,c=t.data,a(c);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(u.a)(j.a.mark((function e(){var t,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("/api/pubs");case 2:t=e.sent,c=t.data,o(c);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),t()}),[]),console.log(l),!c||!l)return null;console.log("userID",d);var h=c.isLandlord,m=c.username,O=c.createdAt,p=(c.profileImage,l.map((function(e){return e.reviews})).flat().filter((function(e){return e.reviewOwner===d})));return console.log("profile",c),console.log("profile",p),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(F,{}),c&&Object(v.jsx)("div",{className:"profile-container",children:Object(v.jsx)("div",{className:"columns",children:Object(v.jsxs)("div",{className:"column",children:[Object(v.jsxs)("div",{className:"username",children:[Object(v.jsx)("h2",{children:"".concat(m,"'s Landlord Profile")}),Object(v.jsx)("p",{children:"Joined in ".concat(Y(O)," ")})]}),Object(v.jsx)("hr",{}),Object(v.jsx)("b",{children:"Your pubs"}),h&&Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("section",{className:"account-owned-pubs",children:Object(v.jsx)("section",{className:"section",children:Object(v.jsx)("div",{className:"container",children:Object(v.jsxs)("div",{className:"columns is-multiline",children:[l.map((function(e){console.log(e.pubOwner)})),l.filter((function(e){return e.pubOwner===d})).map((function(e,t){return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{className:"column is-one-quarter-desktop is-one-third-tablet",children:Object(v.jsxs)("div",{className:"owned-pubs",children:[Object(v.jsx)("div",{className:"owned-pubs card-image ",children:Object(v.jsx)("figure",{className:"image resize image-is-1by1",children:Object(v.jsx)(i.b,{to:"/pubs/".concat(e._id),children:Object(v.jsx)("img",{src:e.image,alt:e.nameOfPub})})})}),Object(v.jsx)("div",{className:"card-header ",children:Object(v.jsx)("div",{className:"card-header-title",children:e.nameOfPub})})]})},e._id)})}))]})})})})})]})})})]})},le=function(){return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(i.a,{children:[Object(v.jsxs)(r.c,{children:[Object(v.jsx)(r.a,{exact:!0,path:"/pubs",children:Object(v.jsx)(B,{})}),Object(v.jsx)(r.a,{exact:!0,path:"/pubs/:id/submit-review",children:Object(v.jsx)(te,{})}),Object(v.jsx)(r.a,{exact:!0,path:"/profile/:userID/edit",children:Object(v.jsx)(V,{})}),Object(v.jsx)(r.a,{exact:!0,path:"/profile/:userID/saved-pubs",children:Object(v.jsx)(K,{})}),Object(v.jsx)(r.a,{exact:!0,path:"/landlord-profile/:userID",children:Object(v.jsx)(re,{})}),Object(v.jsx)(r.a,{exact:!0,path:"/profile/:userID/edit-profile-image",children:Object(v.jsx)(ie,{})}),Object(v.jsx)(r.a,{exact:!0,path:"/profile/delete-account/:userID/",children:Object(v.jsx)(ce,{})}),Object(v.jsx)(r.a,{exact:!0,path:"/users/reviews/delete-review/:pubID/:reviewID"}),Object(v.jsx)(r.a,{exact:!0,path:"/pubs/:pubID/delete",children:Object(v.jsx)(ne,{})}),Object(v.jsx)(r.a,{exact:!0,path:"/",children:Object(v.jsx)(I,{})}),Object(v.jsx)(r.a,{exact:!0,path:"/login",children:Object(v.jsx)(_,{})}),Object(v.jsx)(r.a,{exact:!0,path:"/loginpub",children:Object(v.jsx)(se,{})}),Object(v.jsx)(r.a,{exact:!0,path:"/signup",children:Object(v.jsx)(H,{})}),Object(v.jsx)(r.a,{exact:!0,path:"/signup-modal",children:Object(v.jsx)(S,{})}),Object(v.jsx)(r.a,{exact:!0,path:"/pubs/:pubID/reviews-delete/:reviewID",children:Object(v.jsx)(ae,{})}),Object(v.jsx)(r.a,{exact:!0,path:"/pubs/:id",children:Object(v.jsx)(G,{})}),Object(v.jsx)(r.a,{exact:!0,path:"/pubs/filter-pubs/:city",children:Object(v.jsx)(ee,{})}),Object(v.jsx)(r.a,{exact:!0,path:"/users/saved-pubs",children:Object(v.jsx)(K,{})}),Object(v.jsx)(r.a,{exact:!0,path:"/landlord",children:Object(v.jsx)(Z,{})}),Object(v.jsx)(r.a,{exact:!0,path:"/landlord/signup",children:Object(v.jsx)(W,{})}),Object(v.jsx)(r.a,{exact:!0,path:"/profile/:userID",children:Object(v.jsx)($,{})})]}),Object(v.jsx)(q,{})]})})};c(110);n.a.render(Object(v.jsx)(le,{}),document.getElementById("root"))},66:function(e,t,c){},72:function(e,t,c){}},[[111,1,2]]]);
//# sourceMappingURL=main.029823de.chunk.js.map